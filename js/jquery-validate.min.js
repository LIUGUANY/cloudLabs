(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery,window,document)}}}(function(f,e,a,h){var g={isNonEmpty:function(j,i){if(!j.length){return i}},minLength:function(k,j,i){if(k.length<j){return i}},maxLength:function(k,j,i){if(k.length<j){return i}},isMobile:function(j,i){if(!/(^1[3|5|8][0-9]{9}$)/.test(j)){return i}},isEmail:function(j,i){if(!/(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/.test(j)){return i}},between:function(m,j,l){var k=parseInt(j.split("-")[0]);var i=parseInt(j.split("-")[1]);if(m.length<k||m.length>i){return l}},onlyEn:function(j,i){if(!/^[A-Za-z]+$/.test(j)){}},onlyZh:function(j,i){if(!/^[\u4e00-\u9fa5]+$/.test(j)){return i}},onlyNum:function(j,i){if(!/^[0-9]+([.][0-9]+){0,1}$/.test(j)){return i}},onlyInt:function(j,i){if(!/^[0-9]*$/.test(j)){return i}},isChecked:function(m,l,k){var j=0;var n=f(k).find("input:checked");if(!n.length){return l}}};var c={type:null,onBlur:null,onFocus:null,onChange:null,successTip:true};var b=function(){this.cache=[]};b.prototype.add=function(n,m){var j=this;for(var k=0,l;l=m[k++];){(function(p){var i=p.strategy.split(":");var o=p.errorMsg;j.cache.push(function(){var q=i.shift();i.unshift(n.value);i.push(o);i.push(n);if(!g[q]){f.error("没有"+q+"规则，请检查命名或自行定义")}return{errorMsg:g[q].apply(n,i),el:n}})}(l))}};b.prototype.start=function(){var j;for(var k=0,l;l=this.cache[k++];){var j=l();if(c.successTip){new b().showMsg(f(j.el),"",1)}if(j.errorMsg){return j}}return true};b.prototype.showMsg=function(n,o,k,p){var l=k?(k>1?"error":"success"):"tip";var j=n.parent();var i=j.find(".valid_message");var m=n.attr("data-type")||"";i.remove();j.removeClass("success tip error").addClass(l+" "+m).append('<span class="valid_message">'+o+"</span>")};var d={init:function(j){var i=this;var m=f("body");var l=i.find(".required");c=f.extend(c,j);if(c.type){f.extend(g,c.type)}var k=new b();m.on({focus:function(p){var q=f(this);var n=q.attr("data-tip")||"";var o=q.attr("data-status");if(o===h||!parseInt(o)){k.showMsg(q,n)}c.onFocus?c.onFocus.call(q,arguments):""},blur:function(n){var t=f(this);var p=t.attr("data-valid");var v=p.split("||");var w=t.attr("data-error");var u=w.split("||");var o,q,s;for(var r=0;r<v.length;r++){o=v[r].split(":");q=o.shift();o.unshift(this.value);o.push(u[r]);o.push(this);s=g[q].apply(this,o);if(s){t.attr("data-status",0);k.showMsg(t,s,2);break}}if(!s){t.attr("data-status",1);c.successTip?k.showMsg(t,"",1):t.parent().find(".valid_message").remove()}c.onBlur?c.onBlur.call(t,arguments):""},change:function(n){c.onChange?c.onChange.call($this,arguments):""}},".required")},submitValidate:function(l){var k=l||this;var o=f("body");var n=k.find(".required");var m=new b();var j;f.each(n,function(t,p){var w=f(p);var r=w.attr("data-valid");var v=r.split("||");var x=w.attr("data-error");var u=x.split("||");var q=[];for(var s=0;s<v.length;s++){q.push({strategy:v[s],errorMsg:u[s]})}m.add(p,q)});var i=m.start();if(i.errorMsg){j=f(i.el);m.showMsg(j,i.errorMsg,2);return false}return true}};f.fn.validate=function(){var i=arguments[0];if(d[i]){i=d[i];arguments=Array.prototype.slice.call(arguments,1)}else{if(typeof(i)=="object"||!i){i=d.init}else{f.error("Method "+i+" does not exist on jQuery.validate Plugin");return this}}return i.apply(this,arguments)}}));